<script>
    var t
    times()
    t = setInterval(times, 60000)

    function times() {
        function infoTime(time) {
            //获取发送消息的时间戳
            var inputTime = new Date(time)
                // console.log(inputTime.getTime());
            var year = inputTime.getFullYear();
            var month = inputTime.getMonth() + 1;
            var date1 = inputTime.getDate();
            var day = inputTime.getDay();
            // console.log(year + '年' + month + '月' + date1 + '日 ')
            //获取现在时间戳
            var nowTime = new Date();
            // console.log(nowTime.getTime());
            var timer = (nowTime - inputTime) / 1000 || 0
            timer = Math.round(timer);
            // console.log(timer);
            //将差转换成时分秒
            var d = parseInt(timer / 60 / 60 / 24);
            // console.log(d);
            var h = parseInt(timer / 60 / 60 % 24);
            var m = parseInt(timer / 60 % 60);
            var s = parseInt(timer % 60);
            if (timer < 180) {
                console.log('刚刚');
            } else if (timer < 60 * 60) {
                console.log(m + '分钟前');
            } else if (timer < 24 * 60 * 60) {
                console.log(h + '小时前')
            } else if (timer < 24 * 60 * 60 * 7) {
                console.log(d + '天前')
            } else if (timer > 365 * 24 * 60 * 60 * 10) {
                console.log('很久很久以前');
                clearInterval(t);
            } else {
                console.log(year + '年' + month + '月' + date1 + '日 ');
            }
        }
        infoTime('2020-6-21 13:20:00');
    }
</script>